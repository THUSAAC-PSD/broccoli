[server]
host = "127.0.0.1"
port = 3000

[server.cors]
allow_origins = ["http://localhost:5173", "http://127.0.0.1:5173"]
max_age = 3600

[worker]
id = "worker-1"
batch_size = 10

[database]
url = "postgres://postgres:password@localhost:5432/broccoli"

[mq]
enabled = true
url = "redis://localhost:6379"
pool_size = 5
queue_name = "judge_jobs"
result_queue_name = "judge_results"
dlq_queue_name = "judge_jobs_dlq"

[mq.dlq]
max_retries = 3
base_delay_ms = 1000
max_delay_ms = 60000
stuck_job_timeout_secs = 900
stuck_job_scan_interval_secs = 60
retry_cleanup_interval_secs = 300
retry_max_age_secs = 600

[auth]
jwt_secret = "generate-a-long-random-string-here"

[plugin]
plugins_dir = "./plugins"
enable_wasi = true
